version: '2'
services:
  electroneum:
    image: jc21/electroneumd:latest
    volumes_from:
      - electroneum-data
    ports:
      - ${P2P_BIND_PORT}:26967
      - ${RPC_BIND_PORT}:26968
    environment:
      - RPC_BIND_IP=0.0.0.0
      - DAEMON_EXTRA_ARGS=--confirm-external-bind ${EXTRA_ARGS}
    labels:
      io.rancher.sidekicks: electroneum-data
      io.rancher.container.hostname_override: container_name

  electroneum-data:
    image: jc21/electroneumd:latest
    entrypoint:
      - /bin/true
    volumes:
      - /root/.electroneum
    labels:
      io.rancher.container.start_once: 'true'
      io.rancher.container.hostname_override: container_name
